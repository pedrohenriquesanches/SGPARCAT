<ui:composition template="/templates/pagina.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:define name="titulo">Calendário Paroquial</ui:define>
    <ui:define name="corpo">

        <div class="titulo-opcoes">
            <div class="titulo-pagina">
                <h1>Gestão de Finanças</h1>            
            </div>
            <div class="opcoes-right">
                <p:commandButton value="Criar evento" onclick="PF('dialogo-evento').show();" icon="ui-icon-plus" />
            </div>
        </div>

        <h:form id="tabelaForm">

            <p:messages id="messages" for="messages" showDetail="false" autoUpdate="true" closable="true"/>

            <h:panelGrid columnClasses="value">

                <p:schedule id="calendario" value="#{agendaBean.scheduleModelEventos}" widgetVar="calendario" timeZone="America/Sao_Paulo">

                    <p:ajax event="dateSelect" update="dialogForm:painel-evento" oncomplete="PF('dialogo-evento').show();" />
                    <p:ajax event="eventSelect" update="dialogForm:painel-evento" oncomplete="PF('dialogo-evento').show();" />
                    <p:ajax event="eventMove" update=":tabelaForm:messages" />
                    <p:ajax event="eventResize" update=":tabelaForm:messages" />

                </p:schedule>

            </h:panelGrid>

        </h:form>

        <h:form id="dialogForm">
            <p:dialog widgetVar="dialogo-evento" header="Event Details" showEffect="clip" hideEffect="clip">
                <h:panelGrid id="painel-evento" columns="2">
                    <p:outputLabel for="title" value="Titles:" />
                    <p:inputText id="title" value="0" required="true" />

                    <p:outputLabel for="from" value="From:" />
                    <p:calendar id="from" value="1" timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy HH:mm"/>

                    <p:outputLabel for="to" value="To:" />
                    <p:calendar id="to" value="2" timeZone="America/Sao_Paulo" pattern="dd/MM/yyyy HH:mm"/>

                    <p:outputLabel for="allDay" value="All Day:" />
                    <h:selectBooleanCheckbox id="allDay" value="3" />

                    <p:commandButton type="reset" value="Reset" />
                    <p:commandButton value="Salvar" oncomplete="PF('calendario').update();PF('painel-evento').hide();" />
                </h:panelGrid>
            </p:dialog>
        </h:form>

    </ui:define>

</ui:composition>